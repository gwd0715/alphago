{"version":3,"sources":["assets/images/bigLogo.png","assets/images/mapbackground.png","assets/images/logo 1.png","testData/alphacityFront.js","components/Dashboard/SearchBar.js","components/Dashboard/DaySelector.js","components/Dashboard/NextPageButton.js","components/Dashboard/CityGrid.js","components/Dashboard/Dashboard.js","components/maplayout/pin.js","components/maplayout/CityInfo.js","components/firebase/Client.js","components/firebase/Utils.js","components/firebase/History.js","contexts/AuthContext.js","components/maplayout/calcDistance.js","contexts/TripdataContext.js","components/maplayout/MapScreen.js","constants.js","components/maplayout/LeftList/spinner.js","components/maplayout/LeftList/DayOverView.js","components/maplayout/LeftList/CurrentDay.js","components/maplayout/LeftList/ListView.js","components/maplayout/TopList.js","components/layout/EditMap.js","components/layout/ProfilePage/Pages/Profile.js","components/layout/ProfilePage/Pages/History.js","components/layout/ProfilePage/Pages/AboutUs.js","components/layout/ProfilePage/Pages/PageController.js","components/layout/ProfilePage/ProfilePage.js","components/firebase/Authentication.js","components/auth/SignInPage.js","components/auth/SignUpPage.js","components/layout/SignedInLinks.js","components/layout/SignedOutLinks.js","components/layout/Navbar.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","cityList","id","name","country","classification","score","snippet","coordinates","latitude","longitude","images","SearchBar","getInfo","city","props","setCity","i","data","length","setCoordinates","setCityInfo","cityName","push","className","style","width","paddingleft","dataSource","this","value","placeholder","onSelect","onSearch","onChange","filterOption","inputValue","option","children","toUpperCase","indexOf","optionLabelProp","Component","Option","Select","onBlur","onFocus","DaySelector","setDay","showSearch","input","toLowerCase","NextPageButton","checkEnter","day","to","pathname","split","details","days","type","icon","useStyles","makeStyles","theme","root","maxWidth","backgroundColor","marginTop","gridroot","display","flexWrap","justifyContent","overflow","nested","paddingLeft","spacing","gridList","height","transform","CityGrid","classes","List","component","GridList","cellHeight","cols","map","point","GridListTile","key","onClick","src","alt","GridListTileBar","title","Dashboard","state","setState","lat","lon","bigLogo","bind","Pin","onClickMarker","iconStyle","color","long","fontSize","card","cardMedia","CityInfo","info","addItem","deleteByLoop","useState","inPlan","setColor","useEffect","Card","cursor","CardMedia","image","backupImg","CardContent","Typography","variant","substring","item","href","console","log","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","fieldValue","FieldValue","generateBriefDayPlan","dayPlan","eachDay","index","poi","generateDetailDayPlan","nearBy","detailPlan","plan","forEach","order","poiArray","nearByArray","poiArrayConverter","detailPlanObject","rawDayPlan","rawNearBy","sort","a","b","addHistory","uid","planId","briefDayPlan","history","createdAt","serverTimestamp","lastModifiedAt","briefPlan","batch","planRef","collection","doc","set","detailRef","commit","message","getAllBriefHistory","historyList","get","document","getDetailHistory","planAndNearBy","generateNewPlanId","AuthContext","createContext","AuthContextProvider","email","username","setUid","localStorage","setItem","setOther","getItem","Provider","degreesToRadians","degrees","Math","PI","TripdataContext","TripdataContextProvider","setPlanId","setTopList","list","TopList","setPopupinfo","popupInfo","viewport","zoom","pitch","transitionDuration","transitionInterpolator","FlyToInterpolator","closePopup","fetchRemoteDayPlan","center","findCenter","dayList","currentDayList","AroundList","CurrentAround","listCenter","setLoading","_updateViewport","updateItem","showplan","showPlan","setViewport","reorder","startIndex","endIndex","result","splice","removed","reorder_day","deleteItem","preCenter","curCenter","dis","lat1","lon1","lat2","lon2","dLat","dLon","sin","cos","atan2","sqrt","distanceInKmBetweenEarthCoordinates","fetchAround","len","poiList","loading","TopListLoading","fetchTopListData","fetchDayPlanData","url","fetch","then","response","json","catch","error","concat","fetchMoreTopListData","contextType","MapScreen","_onClickMarker","pointInfo","context","getButton","handleSubmit","fontFamily","jumpFunc","createPoilist","createLinearElement","cur","next","sourcePosition","targetPosition","createLinear","e","preventDefault","pId","alert","window","location","replace","closeOnClick","onClose","findPOIinDayList","layers","LineLayer","getWidth","getColor","mapStyle","onViewportChange","mapboxApiAccessToken","viewState","_renderPopup","marginLeft","CircularIndeterminate","CircularProgress","DayOverView","onDragEnd","start","end","destination","re_order","items","source","droppableId","provided","snapshot","droppableProps","ref","innerRef","background","padding","borderColor","position","draggableId","add","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","margin","borderWidth","borderRadius","fontWeight","marginRight","CurrentDay","stopPropagation","right","top","ListView","palette","paper","NestedList","scrollRef","useRef","React","open","setOpen","useContext","ListItem","button","ListItemIcon","ListItemText","primary","Collapse","in","timeout","unmountOnExit","onScroll","current","scrollTop","clientHeight","scrollHeight","titleBar","EditMapPage","match","params","parseFloat","Meta","Profile","cover","avatar","Panel","makePoiList","array","j","k","History","genExtra","getBriefHistory","briefHistory","size","header","bordered","pagination","page","pageSize","renderItem","accordion","extra","Item","AboutUs","target","rel","PageController","selectPage","SubMenu","Menu","ProfilePage","handleClick","defaultSelectedKeys","defaultOpenKeys","mode","AppstoreOutlined","userSignUp","password","createUserWithEmailAndPassword","cred","userInfo","user","userSignIn","signInWithEmailAndPassword","errorMessage","userLogout","signOut","SignInPage","handleChange","goBack","Form","onSubmit","FormGroup","ControlLabel","FormControl","required","Button","withRouter","SignUpPage","minlength","SignedInLinks","handleOnclick","SignedOutLinks","Navbar","links","logo","App","PublicRoute","rest","exact","path","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.70506f43.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bigLogo.616c4aa5.png\";","module.exports = __webpack_public_path__ + \"static/media/mapbackground.7722aa97.png\";","module.exports = __webpack_public_path__ + \"static/media/logo 1.eecbf019.png\";","export const cityList = [\n\t{\n\t\tid: 'London',\n\t\tname: 'London',\n\t\tcountry: 'UK',\n\t\tclassification: 'alpha++',\n\t\tscore: 9.86485603520598,\n\t\tsnippet:\n\t\t\t\"Europe's financial metropolis and the former heart of the British Empire, packed with all sorts of attractions from sports to museums and two millennia of history.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 51.508129,\n\t\t\tlongitude: -0.128005\n\t\t},\n\t\timages: [\n\t\t\t'https://cdn.londonandpartners.com/assets/73295-640x360-london-skyline-ns.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'New_York_City',\n\t\tname: 'New York',\n\t\tcountry: 'USA',\n\t\tclassification: 'alpha++',\n\t\tscore: 9.78956427041727,\n\t\tsnippet:\n\t\t\t'Possibly the most well known and celebrated city in the world, New York is a city of towering skyscrapers, ethnic diversity, international corporations, and incomparable culture.',\n\t\tcoordinates: {\n\t\t\tlatitude: 40.714352,\n\t\t\tlongitude: -74.005974\n\t\t},\n\t\timages: ['https://i.ytimg.com/vi/gYLQThUxpvQ/maxresdefault.jpg']\n\t},\n\t{\n\t\tid: 'wv__Beijing',\n\t\tname: 'Beijing',\n\t\tcountry: 'China',\n\t\tclassification: 'alpha+',\n\t\tscore: 8.68610588945294,\n\t\tsnippet:\n\t\t\t'Known for natural attractions. Recommended places to visit are Forbidden City, Summer Palace and National Museum of China.',\n\t\tcoordinates: {\n\t\t\tlatitude: 39.904209,\n\t\t\tlongitude: 116.407394\n\t\t},\n\t\timages: [\n\t\t\t'https://uziiw38pmyg1ai60732c4011-wpengine.netdna-ssl.com/wp-content/dropzone/2020/04/28869340114_79bf435076_c.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Dubai',\n\t\tname: 'Dubai',\n\t\tcountry: 'United Arab Emirates',\n\t\tclassification: 'alpha+',\n\t\tscore: 8.71624443987986,\n\t\tsnippet:\n\t\t\t'Known for places to eat and drink. Recommended places to visit are Dubai Museum, Burj Khalifa and Wild Wadi Water Park.',\n\t\tcoordinates: {\n\t\t\tlatitude: 25.264444,\n\t\t\tlongitude: 55.311668\n\t\t},\n\t\timages: [\n\t\t\t'https://images.khaleejtimes.com/storyimage/KT/20200119/ARTICLE/200119279/AR/0/dubai,-uae,-most-dynamic-city,-jll,-india,-hyderabad.jpg&MaxW=780&imageVersion=16by9&NCS_modified=20200121153410'\n\t\t]\n\t},\n\t{\n\t\tid: 'wv__Hong_Kong',\n\t\tname: 'Hong Kong',\n\t\tcountry: 'China',\n\t\tclassification: 'alpha+',\n\t\tscore: 9.04935861849325,\n\t\tsnippet: \"This former British colony markets itself as Asia's World City.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 22.396427,\n\t\t\tlongitude: 114.109497\n\t\t},\n\t\timages: [\n\t\t\t'https://www.fodors.com/wp-content/uploads/2019/01/HERO_Ultimate_HongKong_dreamstime_68784072.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'wv__Shanghai',\n\t\tname: 'Shanghai',\n\t\tcountry: 'China',\n\t\tclassification: 'alpha+',\n\t\tscore: 8.841225364618,\n\t\tsnippet:\n\t\t\t\"China's biggest and most developed city, huge and cosmopolitan. Museums, temples, fashion, finance, history, architecture—Shanghai has it all.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 31.230415,\n\t\t\tlongitude: 121.473701\n\t\t},\n\t\timages: [\n\t\t\t'https://bkkaruncloud.b-cdn.net/wp-content/uploads/2019/01/beijing-to-shanghai.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Paris',\n\t\tname: 'Paris',\n\t\tcountry: 'France',\n\t\tclassification: 'alpha+',\n\t\tscore: 9.98331899412756,\n\t\tsnippet:\n\t\t\t'The \"City of Light\" and one of the most visited places on Earth: romance, cuisine, the Eiffel Tower and a surprising amount of green await you.',\n\t\tcoordinates: {\n\t\t\tlatitude: 48.856613,\n\t\t\tlongitude: 2.352222\n\t\t},\n\t\timages: [\n\t\t\t'https://photos.mandarinoriental.com/is/image/MandarinOriental/paris-2017-home?wid=2880'\n\t\t]\n\t},\n\t{\n\t\tid: 'Singapore',\n\t\tname: 'Singapore',\n\t\tcountry: 'Singapore',\n\t\tclassification: 'alpha+',\n\t\tscore: 8.03467042216431,\n\t\tsnippet:\n\t\t\t'Prosperous, clean and orderly island city-state, with a Chinese majority but with strong Malay and Indian communities, the main business and financial hub of the region.',\n\t\tcoordinates: {\n\t\t\tlatitude: 1.352083,\n\t\t\tlongitude: 103.819839\n\t\t},\n\t\timages: [\n\t\t\t'https://p-airnz.com/cms/assets/Common-Assets/Destination-Images/singapore-gardens-by-the-bay-and-marina-bay-sands-nc-rf-noexp-allsites-1200x800__ScaleMaxWidthWzczOF0.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Sydney',\n\t\tname: 'Sydney',\n\t\tcountry: 'Australia',\n\t\tclassification: 'alpha+',\n\t\tscore: 9.15846005125159,\n\t\tsnippet:\n\t\t\t'The capital of the state and largest city in Australia, and its suburban surroundings, forms its own vibrant region.',\n\t\tcoordinates: {\n\t\t\tlatitude: -33.87365,\n\t\t\tlongitude: 151.206894\n\t\t},\n\t\timages: [\n\t\t\t'https://media-cdn.tripadvisor.com/media/photo-m/1280/18/8f/8c/7b/sydneyoperahouse.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Tokyo',\n\t\tname: 'Tokyo',\n\t\tcountry: 'Japan',\n\t\tclassification: 'alpha+',\n\t\tscore: 8.49829282507366,\n\t\tsnippet:\n\t\t\t'Known for shopping. Recommended places to visit are Tokyo National Museum, Edo-Tokyo Museum and National Museum of Western Art.',\n\t\tcoordinates: {\n\t\t\tlatitude: 35.689487,\n\t\t\tlongitude: 139.691711\n\t\t},\n\t\timages: [\n\t\t\t'https://www.allenovery.com/global/-/media/allenovery/1_images/locations/asia_pacific/japan/ao_hero_image_m01_countries_asia_pacific_tokyo.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Bangkok',\n\t\tname: 'Bangkok',\n\t\tcountry: 'Thailand',\n\t\tclassification: 'alpha',\n\t\tscore: 9.4973081850517,\n\t\tsnippet:\n\t\t\t'Known for cycling. Recommended places to visit are Grand Palace, Wat Phra Kaew and Wat Pho.',\n\t\tcoordinates: {\n\t\t\tlatitude: 13.741551,\n\t\t\tlongitude: 100.510368\n\t\t},\n\t\timages: [\n\t\t\t'https://a.cdn-hotels.com/gdcs/production172/d459/3af9262b-3d8b-40c6-b61d-e37ae1aa90aa.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Chicago',\n\t\tname: 'Chicago',\n\t\tcountry: 'USA',\n\t\tclassification: 'alpha',\n\t\tscore: 9.57444544225921,\n\t\tsnippet: 'The largest city in Illinois, and the third largest in the United States.',\n\t\tcoordinates: {\n\t\t\tlatitude: 41.878113,\n\t\t\tlongitude: -87.629799\n\t\t},\n\t\timages: [\n\t\t\t'https://relay.edu/sites/default/files/styles/hero_image_wide/public/2017-06/Chicago_Cropped_Hero.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Istanbul',\n\t\tname: 'Istanbul',\n\t\tcountry: 'Turkey',\n\t\tclassification: 'alpha',\n\t\tscore: 9.70213607912379,\n\t\tsnippet:\n\t\t\t\"The heart of both the Ottoman and Byzantine Empire, this bi-continental city is a bridge between east and west and Europe's largest.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 41.005268,\n\t\t\tlongitude: 28.976959\n\t\t},\n\t\timages: ['https://www.ana.co.jp/international/promotions/hnd-ist/images/cityinfo_02_01.jpg']\n\t},\n\t{\n\t\tid: 'Los_Angeles',\n\t\tname: 'Los Angeles',\n\t\tcountry: 'USA',\n\t\tclassification: 'alpha',\n\t\tscore: 9.36704180315615,\n\t\tsnippet:\n\t\t\t'Southern portion of the Valley, including major population centers of Lancaster, Palmdale and Quartz Hill.',\n\t\tcoordinates: {\n\t\t\tlatitude: 34.052235,\n\t\t\tlongitude: -118.243683\n\t\t},\n\t\timages: [\n\t\t\t'https://cdn.vox-cdn.com/uploads/chorus_image/image/55813197/LA_Shutterstock.29.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Mexico_City',\n\t\tname: 'Mexico City',\n\t\tcountry: 'Mexico',\n\t\tclassification: 'alpha',\n\t\tscore: 8.94337900102515,\n\t\tsnippet:\n\t\t\t'Capital city of Mexico, the third-largest city in the world is chock-full of museums, centuries-old architecture, modern amenities... and people.',\n\t\tcoordinates: {\n\t\t\tlatitude: 19.432608,\n\t\t\tlongitude: -99.133209\n\t\t},\n\t\timages: [\n\t\t\t'https://www.nationalgeographic.com/content/dam/travel/Guide-Pages/north-america/mexico-city-travel.adapt.1900.1.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Moscow',\n\t\tname: 'Moscow',\n\t\tcountry: 'Russia',\n\t\tclassification: 'alpha',\n\t\tscore: 9.2692139138869,\n\t\tsnippet: 'The capital of Russia, its economic and political center with 860-years history.',\n\t\tcoordinates: {\n\t\t\tlatitude: 55.75,\n\t\t\tlongitude: 37.616669\n\t\t},\n\t\timages: ['https://az592774.vo.msecnd.net/pgl-release/Images/ArticleImages/19/19712.jpg']\n\t},\n\t{\n\t\tid: 'Seoul',\n\t\tname: 'Seoul',\n\t\tcountry: 'South Korea',\n\t\tclassification: 'alpha',\n\t\tscore: 8.85184733262116,\n\t\tsnippet:\n\t\t\t'Known for museums. Recommended places to visit are Deoksugung, Changgyeonggung and Gyeongbokgung.',\n\t\tcoordinates: {\n\t\t\tlatitude: 37.566536,\n\t\t\tlongitude: 126.977966\n\t\t},\n\t\timages: ['https://blog.arrivalguides.com/wp-content/uploads/2017/06/CJ-Nattanai.jpg']\n\t},\n\t{\n\t\tid: 'Warsaw',\n\t\tname: 'Warsaw',\n\t\tcountry: 'Poland',\n\t\tclassification: 'alpha',\n\t\tscore: 9.41592761572313,\n\t\tsnippet:\n\t\t\t'Known for museums. Recommended places to visit are Copernicus Science Centre, Łazienki Park and Palace on the Water.',\n\t\tcoordinates: {\n\t\t\tlatitude: 52.229675,\n\t\t\tlongitude: 21.01223\n\t\t},\n\t\timages: [\n\t\t\t'https://www.ibo.org/contentassets/cd80d71ce577442293b991936f33f6ee/warsaw-header.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'City_of_Brussels',\n\t\tname: 'Brussels',\n\t\tcountry: 'Belgium',\n\t\tclassification: 'alpha',\n\t\tscore: 8.46040037700147,\n\t\tsnippet:\n\t\t\t'The bilingual capital region of the country and headquarters of the European Union.',\n\t\tcoordinates: {\n\t\t\tlatitude: 50.850342,\n\t\t\tlongitude: 4.35171\n\t\t},\n\t\timages: [\n\t\t\t'https://www.lexxion.eu/wp-content/uploads/2019/05/brussels-grand-place-0519-wj.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Guangzhou',\n\t\tname: 'Guangzhou',\n\t\tcountry: 'China',\n\t\tclassification: 'alpha',\n\t\tscore: 7.76348094152907,\n\t\tsnippet:\n\t\t\t'Known for museums. Recommended places to visit are Guangdong Museum, 陈家祠 and Sacred Heart Cathedral.',\n\t\tcoordinates: {\n\t\t\tlatitude: 23.129164,\n\t\t\tlongitude: 113.264435\n\t\t},\n\t\timages: ['https://content.r9cdn.net/rimg/dimg/87/07/2a86d6b1-city-17708-165a63a0cee.jpg']\n\t},\n\t{\n\t\tid: 'Toronto',\n\t\tname: 'Toronto',\n\t\tcountry: 'Canada',\n\t\tclassification: 'alpha',\n\t\tscore: 8.98117771503705,\n\t\tsnippet:\n\t\t\t\"Canada's largest city, a cosmopolitan mosaic with ethnic enclaves and cultural attractions galore.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 43.653225,\n\t\t\tlongitude: -79.383186\n\t\t},\n\t\timages: [\n\t\t\t'https://www.fodors.com/assets/destinations/157/sunset-skyline-toronto-ontario-canada_980x650.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Frankfurt',\n\t\tname: 'Frankfurt am main',\n\t\tcountry: 'Germany',\n\t\tclassification: 'alpha',\n\t\tscore: 9.11737750492405,\n\t\tsnippet:\n\t\t\t'Known for cycling. Recommended places to visit are Naturmuseum Senckenberg, Städel Museum and Palmengarten.',\n\t\tcoordinates: {\n\t\t\tlatitude: 50.110924,\n\t\t\tlongitude: 8.682127\n\t\t},\n\t\timages: ['https://content.r9cdn.net/rimg/dimg/39/86/ae1975d6-city-26939-15516fe0259.jpg']\n\t},\n\t{\n\t\tid: 'Milan',\n\t\tname: 'Milan',\n\t\tcountry: 'Italy',\n\t\tclassification: 'alpha',\n\t\tscore: 9.28968642157119,\n\t\tsnippet:\n\t\t\t\"Known for cycling. Recommended places to visit are Milan Cathedral, Gallerie d'Italia and Piazza del Duomo.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 45.46368,\n\t\t\tlongitude: 9.188171\n\t\t},\n\t\timages: ['https://www.travelanddestinations.com/wp-content/uploads/2019/07/Milan.jpg']\n\t},\n\t{\n\t\tid: 'Madrid',\n\t\tname: 'Madrid',\n\t\tcountry: 'Spain',\n\t\tclassification: 'alpha',\n\t\tscore: 9.74424047479286,\n\t\tsnippet:\n\t\t\t'Known for places to eat and drink. Recommended places to visit are Palacio Real, Museo del Prado and Palacio de Cristal del Retiro.',\n\t\tcoordinates: {\n\t\t\tlatitude: 40.416691,\n\t\t\tlongitude: -3.700345\n\t\t},\n\t\timages: [\n\t\t\t'https://www.telegraph.co.uk/content/dam/Travel/Destinations/Europe/Spain/Madrid/gran-via-madrid-night-lead-guide.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Buenos_Aires',\n\t\tname: 'Buenos Aires',\n\t\tcountry: 'Argentina',\n\t\tclassification: 'alpha',\n\t\tscore: 9.10946242255938,\n\t\tsnippet: 'The city of tango and most cosmopolitan in Argentina.',\n\t\tcoordinates: {\n\t\t\tlatitude: -34.608418,\n\t\t\tlongitude: -58.373161\n\t\t},\n\t\timages: [\n\t\t\t'https://specials-images.forbesimg.com/imageserve/5e0a7ef60bf81b00072e2e42/960x0.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Melbourne',\n\t\tname: 'Melbourne',\n\t\tcountry: 'Australia',\n\t\tclassification: 'alpha',\n\t\tscore: 9.08627514201568,\n\t\tsnippet:\n\t\t\t'Multicultural and sports-mad, this vibrant city includes many cultural institutions.',\n\t\tcoordinates: {\n\t\t\tlatitude: -37.813187,\n\t\t\tlongitude: 144.962982\n\t\t},\n\t\timages: [\n\t\t\t'https://www.nationalgeographic.com/content/dam/travel/Guide-Pages/australia-oceania/cityscape-melbourne-australia.adapt.1900.1.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Taipei',\n\t\tname: 'Taipei',\n\t\tcountry: 'China',\n\t\tclassification: 'alpha',\n\t\tscore: 8.91931080133613,\n\t\tsnippet: 'The political and economic heart of Taiwan.',\n\t\tcoordinates: {\n\t\t\tlatitude: 25.044273,\n\t\t\tlongitude: 121.513832\n\t\t},\n\t\timages: [\n\t\t\t'https://www.roughguides.com/wp-content/uploads/2012/09/taipei-taiwan-shutterstock_666463504.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Kuala_Lumpur',\n\t\tname: 'Kuala Lumpur',\n\t\tcountry: 'Malaysia',\n\t\tclassification: 'alpha',\n\t\tscore: 8.51800494001135,\n\t\tsnippet: \"The nation's capital.\",\n\t\tcoordinates: {\n\t\t\tlatitude: 3.139003,\n\t\t\tlongitude: 101.686852\n\t\t},\n\t\timages: [\n\t\t\t'https://www.tripsavvy.com/thmb/Dx7qukyVekwxgCnUA_b1MhyYdfg=/4000x2670/filters:fill(auto,1)/where-is-kuala-lumpug-5740492a5f9b58723d520ef4.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Mumbai',\n\t\tname: 'Mumbai',\n\t\tcountry: 'India',\n\t\tclassification: 'alpha',\n\t\tscore: 7.91397145419558,\n\t\tsnippet:\n\t\t\t'Known for places to eat and drink. Recommended places to visit are Gateway of India, Elephanta Caves and Chhatrapati Shivaji Maharaj Vastu Sangrahalaya.',\n\t\tcoordinates: {\n\t\t\tlatitude: 19.075983,\n\t\t\tlongitude: 72.877655\n\t\t},\n\t\timages: ['https://i.ytimg.com/vi/Dxkn7GtucRA/maxresdefault.jpg']\n\t},\n\t{\n\t\tid: 'Miami',\n\t\tname: 'Miami',\n\t\tcountry: 'USA',\n\t\tclassification: 'alpha',\n\t\tscore: 9.2114584466873,\n\t\tsnippet:\n\t\t\t'Known for places to eat and drink. Recommended places to visit are Pérez Art Museum Miami, Vizcaya Museum and Gardens and Freedom Tower.',\n\t\tcoordinates: {\n\t\t\tlatitude: 25.788969,\n\t\t\tlongitude: -80.22644\n\t\t},\n\t\timages: [\n\t\t\t'https://d36tnp772eyphs.cloudfront.net/blogs/1/2011/05/View-of-Miami-and-the-coastline-1200x670.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'SC3A3o_Paulo',\n\t\tname: 'Sao Paulo',\n\t\tcountry: 'Brazil',\n\t\tclassification: 'alpha',\n\t\tscore: 9.19330523047938,\n\t\tsnippet:\n\t\t\t'A hive of activity that offers a jovial nightlife and a diverse cultural experience.',\n\t\tcoordinates: {\n\t\t\tlatitude: -23.548943,\n\t\t\tlongitude: -46.638817\n\t\t},\n\t\timages: [\n\t\t\t'https://www.fodors.com/assets/destinations/142/cityscape-morumbi-bridge-sao-paulo-brazil_980x650.jpg'\n\t\t]\n\t},\n\t{\n\t\tid: 'Jakarta',\n\t\tname: 'Jakarta',\n\t\tcountry: 'Indonesia',\n\t\tclassification: 'alpha',\n\t\tscore: 7.59661313817063,\n\t\tsnippet:\n\t\t\t'Known for shopping. Recommended places to visit are Jakarta History Museum, National Museum and National Monument.',\n\t\tcoordinates: {\n\t\t\tlatitude: -6.211544,\n\t\t\tlongitude: 106.845169\n\t\t},\n\t\timages: ['https://e3.365dm.com/19/04/2048x1152/skynews-jakarta-indonesia_4653762.jpg']\n\t},\n\t{\n\t\tid: 'ZC3BCrich',\n\t\tname: 'Zurich',\n\t\tcountry: 'Switzerland',\n\t\tclassification: 'alpha',\n\t\tscore: 8.97472807544541,\n\t\tsnippet:\n\t\t\t'Known for places to eat and drink. Recommended places to visit are Grossmünster, Zunfthaus zur Meisen and Zoo Zürich.',\n\t\tcoordinates: {\n\t\t\tlatitude: 47.368649,\n\t\t\tlongitude: 8.539183\n\t\t},\n\t\timages: [\n\t\t\t'https://www.wbcsd.org/var/site/storage/images/programs/cities-and-mobility/energy-efficiency-in-buildings/news/eeg-workshop-zurich-switzerland/54849-2-eng-GB/EEG-Workshop-Zurich-Switzerland_i1140.jpg'\n\t\t]\n\t}\n];\n","import React, {Component} from 'react';\nimport 'antd/dist/antd.css';\nimport {AutoComplete} from 'antd';\n// import \"../../styles/SearchBar.css\";\n\nclass SearchBar extends Component {\n\n    getInfo = (city) => {\n        this.props.setCity(city);\n        for(let i = 0; i < this.props.data.length; i++) {\n            if(this.props.data[i].name + \", \" + this.props.data[i].country === city){\n                this.props.setCoordinates(this.props.data[i].coordinates.latitude, this.props.data[i].coordinates.longitude)\n                this.props.setCityInfo(this.props.data[i].snippet, this.props.data[i].name);\n            }\n\n        }\n    }\n\n    cityList = (data) => {\n        const cityName = [];\n        for(var i = 0; i < data.length; i++) {\n            cityName.push(data[i].name + \", \" + data[i].country);\n        }\n        return cityName\n    }\n\n    render() {\n        return (\n            <div className=\"search-box\">\n                <AutoComplete id=\"userinput\"\n                    style={{width: 300,\n                            paddingleft: 2\n                    }}\n                    dataSource={this.cityList(this.props.data)}\n                    value={this.props.city}\n                    placeholder=\"Enter your destination\"\n                    onSelect={this.getInfo}\n                    onSearch={this.getInfo}\n                    onChange={this.getInfo}\n                    filterOption={(inputValue, option) =>\n                        option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n                    }\n                    optionLabelProp=\"value\"\n                >\n                </AutoComplete>\n            </div>\n        );\n    }\n}\n\nexport default SearchBar;\n\n","import React, {Component} from 'react';\nimport \"antd/dist/antd.css\"\nimport {Select} from \"antd\";\n\nconst { Option } = Select;\n\nfunction onBlur() {\n    \n}\n\nfunction onFocus() {\n    \n}\n\nclass DaySelector extends Component {\n    onChange = (value) => {\n        this.props.setDay(value);\n    }\n\n    onSearch = (value) => {\n        this.props.setDay(value);\n    }\n\n    render() {\n        return (\n            <div className=\"selector\">\n                <Select\n                    className=\"select-box\"\n                    showSearch\n                    placeholder=\"How many days\"\n                    onChange={this.onChange}\n                    onFocus={onFocus}\n                    onBlur={onBlur}\n                    onSearch={this.onSearch}\n                    onSelect={this.onSearch}\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    <Option value=\"1\">1 day</Option>\n                    <Option value=\"2\">2 days</Option>\n                    <Option value=\"3\">3 days</Option>\n                    <Option value=\"4\">4 days</Option>\n                    <Option value=\"5\">5 days</Option>\n                    <Option value=\"6\">6 days</Option>\n                    <Option value=\"7\">7 days</Option>\n                    <Option value=\"8\">8 days</Option>\n                    <Option value=\"9\">9 days</Option>\n                    <Option value=\"10\">10 days</Option>\n                    <Option value=\"11\">11 days</Option>\n                    <Option value=\"12\">12 days</Option>\n                    <Option value=\"13\">13 days</Option>\n                    <Option value=\"14\">14 days</Option>\n                    <Option value=\"15\">15 days</Option>\n                </Select>\n            </div>\n        );\n    }\n}\n\nexport default DaySelector;","import React, {Component} from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport 'antd/dist/antd.css';\nimport {Button} from \"antd\";\n\nclass NextPageButton extends Component {\n    cityList = (data) => {\n        const cityName = [];\n        for (var i = 0; i < data.length; i++) {\n            cityName.push(data[i].name + \", \" + data[i].country);\n        }\n        return cityName\n    }\n\n    checkEnter = (input,day) => {\n        for (let i = 0; i < this.cityList(this.props.data).length; i++) {\n            if (input === this.cityList(this.props.data)[i] && day > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    render() {\n        if (this.checkEnter(this.props.city, this.props.day)) {\n            return (\n                <div className=\"next-page\">\n                    <NavLink to={{\n                  pathname: '/map/' + this.props.coordinates.latitude + '/' + this.props.coordinates.longitude\n                        + '/' + this.props.day + '/' + this.props.city.split(',')[0] + '/0',\n                        details: {\n                            city: this.props.city.split(',')[0],\n                            coordinates: this.props.coordinates,\n                            days: this.props.day\n                        }\n                    }}>\n                        <Button type=\"primary\" icon=\"thunderbolt\">\n                            Let's Go\n                        </Button>\n                    </NavLink>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"next-page\">\n                    <Button type=\"primary\" icon=\"thunderbolt\">\n                        Enter City & Day\n                    </Button>\n                </div>\n            );\n        }\n\n\n    }\n}\n\nexport default NextPageButton;","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 380,\n        backgroundColor: \"transparent\",\n        marginTop: '4%'\n    },\n    gridroot: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'space-around',\n        overflow: 'hidden',\n        // backgroundColor: theme.palette.background.paper,\n    },\n    nested: {\n        paddingLeft: theme.spacing(5),\n    },\n    gridList: {\n        flexWrap: 'wrap',\n        height: '70vh',\n        width: 300,\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n        transform: 'translateZ(0)',\n    },\n}));\n\nexport default function CityGrid(props) {\n    const classes = useStyles();\n\n    const createGridList = (data) => {\n        return data.map((point) => (\n            <GridListTile key={point.id}>\n                <img onClick={() => {\n                        props.setCity(point.name + \", \" + point.country);\n                        props.setCoordinates(point.coordinates.latitude, point.coordinates.longitude);\n                        props.setCityInfo(point.snippet, point.name);\n                    }\n                }\n                     src={point.images[0]} alt=\" \" className=\"cityListImg\"/>\n                <GridListTileBar\n                    title={point.name}\n                    className=\"cityListName\"\n                />\n            </GridListTile>\n        ))\n    }\n    return (\n\n        <div className=\"MainPageRightList\">\n            <div className=\"TopList-text\">\n                Alpha Cities\n            </div>\n            <List\n                component=\"div\"\n                className={classes.root}\n            >\n                <div className={classes.gridroot}>\n                    <GridList cellHeight={200} spacing={1} className={classes.gridList} cols={1}>\n                        {props.data && createGridList(props.data)}\n                    </GridList>\n                </div>\n            </List>\n        </div>\n    );\n}","import React, { Component } from \"react\";\nimport { cityList } from '../../testData/alphacityFront';\nimport SearchBar from \"./SearchBar\";\nimport DaySeletcor from \"./DaySelector\";\nimport NextPageButton from \"./NextPageButton\";\nimport CityGrid from \"./CityGrid\";\n// import logo from \"../../assets/images/logo 1.png\"\nimport bigLogo from \"../../assets/images/bigLogo.png\"\n\nclass Dashboard extends Component {\n  state = {\n    day: 0,\n    city: \"\",\n    name: \"Plan your own unique itinerary as detailed as you'd like.\",\n    snippet: \"Experience the most visual and collaborative workspace to plan travel itineraries. Coordinate anywhere, with anyone, at anytime\",\n    coordinates: { latitude: \"\", longitude: \"\" },\n  }\n\n  setCity = (city) => {\n    this.setState({\n      city: city,\n    })\n  }\n\n  setCoordinates = (lat, lon) => {\n    this.setState({\n      coordinates: { latitude: lat, longitude: lon }\n    })\n  }\n\n  setDay = (day) => {\n    this.setState({\n      day: day\n    })\n  }\n\n  setCityInfo = (snippet, cityName) => {\n    this.setState({\n      snippet: snippet,\n      name: cityName,\n    })\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"dashboard-container\">\n        <div className=\"left-side\">\n          <p className=\"promo-text\">\n            {this.state.name}\n          </p>\n          <p className=\"small-promo-text\">\n            {this.state.snippet}\n          </p>\n          <div className=\"select-area\">\n            <div>\n              <img src={bigLogo} className=\"big-logo\" alt=\"web-logo\" />\n              <p className=\"name-text\">AlphaGo</p>\n            </div>\n\n            <div className=\"bars\">\n              <SearchBar\n                data={cityList}\n                city={this.state.city}\n                coordinates={this.state.coordinates}\n                setCity={this.setCity}\n                setCoordinates={this.setCoordinates.bind(this)}\n                setCityInfo={this.setCityInfo.bind(this)}\n              />\n              <DaySeletcor\n                day={this.state.day}\n                setDay={this.setDay}\n              />\n              <NextPageButton\n                data={cityList}\n                city={this.state.city}\n                coordinates={this.state.coordinates}\n                day={this.state.day}\n              />\n            </div>\n\n          </div>\n        </div>\n\n        <div className=\"right-side\">\n          <CityGrid data={cityList}\n            setCity={this.setCity.bind(this)}\n            setCoordinates={this.setCoordinates.bind(this)}\n            setCityInfo={this.setCityInfo.bind(this)}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Dashboard","import React, { Component } from 'react'\nimport { Marker } from 'react-map-gl';\n//import pin from '../../assets/images/pin2.svg';\n//import RoomOutlinedIcon from '@material-ui/icons/RoomOutlined';\nimport RoomIcon from '@material-ui/icons/Room';\n\nexport class Pin extends Component {\n  render() {\n    const { data, onClickMarker} = this.props;\n    const iconStyle = {\n      color: this.props.color,\n    }\n    return data.map(point => (\n      <Marker\n        key={point.id}\n        latitude={point.lat}\n        longitude={point.long}\n      >\n          \n        <RoomIcon style={iconStyle} className=\"marker-btn\" fontSize = \"large\" \n            onClick={() => onClickMarker(point)}>\n        </RoomIcon>\n        \n      </Marker>\n    ));\n  }\n}\n\nexport default Pin\n","import React, {useState, useEffect} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n// import {Link} from 'react-router-dom';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport backupImg from \"../../assets/images/mapbackground.png\"\n//import {TripdataContext} from \"../../contexts/TripdataContext\";\n\nconst useStyles = makeStyles({\n    card: {\n        //display: 'flex',\n        maxWidth: 300,\n    },\n    cardMedia: {\n        height: 140,\n    },\n});\n\n\nexport default function CityInfo(props) {\n\n    const {info} = props;\n    const {addItem, deleteByLoop} = props;\n    const classes = useStyles();\n    const [color, setColor] = useState(info.inPlan === true ? 'secondary' : 'disabled');\n    useEffect(\n        () => {\n           setColor(info.inPlan === true ? 'secondary' : 'disabled');\n        },\n        [info.inPlan],\n    );\n\n    const _setColor = () => {\n        if (color === 'disabled') {\n            addItem(info);\n            setColor('secondary')\n        } else {\n            deleteByLoop(info);\n            setColor('disabled')\n        }\n    }\n    \n    return (\n\n        <div>\n            <Card className={classes.card} style={{cursor: \"pointer\"}}>\n\n                <CardMedia component=\"img\"\n                           className={classes.cardMedia}\n                           image={info.images.length !== 0 ? info.images[0] : backupImg}\n                />\n                <CardContent>\n                    <Typography component=\"h2\" variant=\"h5\">\n                        {info.name}\n                    </Typography>\n                    <Typography variant=\"body2\" component=\"p\" color=\"textSecondary\">\n                      {info.snippet.length > 150 ? info.snippet.substring(0, 150) + \"...\" : info.snippet}\n                    </Typography>\n                    <FavoriteIcon\n                        className=\"FavoriteIcon\"\n                        fontSize=\"large\"\n                        color={color}\n                        onClick={(item) => {\n                            _setColor();\n                            // console.log(info);\n\n                        }}/>\n\n                    <Typography variant=\"subtitle1\" color=\"primary\">\n                        <p to=\"#\" href=\"#\" onClick={() => console.log(\"more information\")}>\n                            More information...\n                        </p>\n                    </Typography>\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: 'AIzaSyAXkLUZdvbrQlK0mxGgW4VM_f3Rxuw08tg',\n    authDomain: 'alphago-adffd.firebaseapp.com',\n    databaseURL: 'https://alphago-adffd.firebaseio.com',\n    projectId: 'alphago-adffd',\n    storageBucket: 'alphago-adffd.appspot.com',\n    messagingSenderId: '860192363251',\n    appId: '1:860192363251:web:42aeba41674fbd38011d86',\n    measurementId: 'G-XVS42ZH78H'\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\nexport const auth = firebase.auth();\nexport const fieldValue = firebase.firestore.FieldValue;\nexport default firebase;","export const generateBriefDayPlan = (dayPlan) => {\n    const briefDayPlan = dayPlan.map((eachDay, index) => ({\n        ['Day-' + (index + 1)]: eachDay.map((poi) => poi.name)\n    }));\n    return briefDayPlan;\n};\n\nexport const generateDetailDayPlan = (dayPlan, nearBy) => {\n    let detailPlan = {\n        plan: {},\n        nearBy: {}\n    };\n    dayPlan.forEach((eachDay, index) => {\n        detailPlan.plan['Day-' + (index + 1)] = { order: index, poiArray: eachDay };\n    });\n    nearBy.forEach((eachDay, index) => {\n        detailPlan.nearBy['Day-' + (index + 1)] = { order: index, nearByArray: eachDay };\n    });\n    return detailPlan;\n};\n\nexport const poiArrayConverter = (detailPlanObject) => {\n    let rawDayPlan = [];\n    let rawNearBy = [];\n    for (const eachDay in detailPlanObject.plan) {\n        rawDayPlan.push(detailPlanObject.plan[eachDay]);\n    }\n    rawDayPlan.sort((a, b) => a.order - b.order);\n    const dayPlan = rawDayPlan.map((eachDay) => eachDay.poiArray);\n\n    for (const eachDay in detailPlanObject.nearBy) {\n        rawNearBy.push(detailPlanObject.nearBy[eachDay]);\n    }\n    rawNearBy.sort((a, b) => a.order - b.order);\n    const nearBy = rawNearBy.map((eachDay) => eachDay.nearByArray);\n    return [dayPlan, nearBy];\n};\n\n","import { db, fieldValue } from './Client.js';\nimport { generateBriefDayPlan, generateDetailDayPlan, poiArrayConverter } from './Utils.js';\nexport const addHistory = async (uid, planId, cityName, dayPlan, nearBy) => {\n    const briefDayPlan = generateBriefDayPlan(dayPlan);\n    const detailPlan = generateDetailDayPlan(dayPlan, nearBy);\n    const history = {\n        createdAt: fieldValue.serverTimestamp(),\n        lastModifiedAt: fieldValue.serverTimestamp(),\n        days: dayPlan.length,\n        briefPlan: briefDayPlan,\n        cityName: cityName\n    };\n    try {\n        let batch = db.batch();\n        //save briefPlan\n        const planRef = db.collection('Users').doc(uid).collection('dayPlan').doc(planId);\n        batch.set(planRef, history);\n\n        //save detail plan\n        const detailRef = planRef.collection('detailPlan').doc('plan');\n        batch.set(detailRef, detailPlan);\n\n        await batch.commit();\n        return 'add history success';\n    } catch (error) {\n        console.log(error);\n        return error.message;\n    }\n};\n\nexport const updateHistory = async (uid, planId, cityName, newDayPlan, newNearBy) => {\n    const briefDayPlan = generateBriefDayPlan(newDayPlan);\n    const detailPlan = generateDetailDayPlan(newDayPlan, newNearBy);\n    const modified = {\n        lastModifiedAt: fieldValue.serverTimestamp(),\n        briefPlan: briefDayPlan,\n        days: newDayPlan.length,\n        cityName: cityName\n    };\n    try {\n        let batch = db.batch();\n        //update brief dayPlan\n        const planRef = db.collection('Users').doc(uid).collection('dayPlan').doc(planId);\n        batch.update(planRef, modified);\n\n        //update detail dayPlan\n        const detailRef = planRef.collection('detailPlan').doc('plan');\n        batch.update(detailRef, detailPlan);\n        await batch.commit();\n        return 'update history success';\n    } catch (error) {\n        console.log(error.message);\n        return error.message;\n    }\n};\n\nexport const getAllBriefHistory = async (uid) => {\n    try {\n        let historyList = [];\n        const planRef = db.collection('Users').doc(uid).collection('dayPlan');\n        const planDocuments = await planRef.get();\n        planDocuments.forEach((document) => {\n            historyList.push({\n                planId: document.id,\n                info: document.data()\n            });\n        });\n        return historyList;\n    } catch (err) {\n        console.log(err.message);\n        return err.message;\n    }\n};\n\nexport const getDetailHistory = async (uid, planId) => {\n    try {\n        const document = await db\n            .collection('Users')\n            .doc(uid)\n            .collection('dayPlan')\n            .doc(planId)\n            .collection('detailPlan')\n            .doc('plan')\n            .get();\n        const planAndNearBy = poiArrayConverter(document.data());\n        console.log(planAndNearBy);\n        return planAndNearBy;\n    } catch (error) {\n        console.log(error.message);\n        return error.message;\n    }\n};\n\nexport const generateNewPlanId = async (uid) => {\n    try {\n        const document = db.collection('Users').doc(uid).collection('dayPlan').doc();\n        const planId = document.id;\n        await document.set({});\n        return planId;\n    } catch (error) {\n        console.log(error.message);\n        return error.message;\n    }\n};","import React, { Component, createContext } from 'react'\n\nexport const AuthContext = createContext();\n\nclass AuthContextProvider extends Component {\n\n  state = {\n    uid: \"\",\n    email: '',\n    username: '',\n  }\n\n  componentDidMount() {\n    this.setState({\n      uid: localStorage.getItem('uid')\n    })\n  }\n\n  setUid = (id) => {\n    this.setState({\n      uid: id\n    })\n    localStorage.setItem('uid', id)\n  }\n\n  setOther =(email, username) => {\n    this.setState({\n      email: email,\n      username: username,\n    })\n  }\n\n  render() {\n    return (\n      <AuthContext.Provider value={{\n        ...this.state,\n        setUid: this.setUid,\n        setOther: this.setOther,\n      }}>\n        {this.props.children}\n      </AuthContext.Provider>\n    )\n  }\n}\n\nexport default AuthContextProvider\n","function degreesToRadians(degrees) {\n  return degrees * Math.PI / 180;\n}\n\nexport function distanceInKmBetweenEarthCoordinates(lat1, lon1, lat2, lon2) {\n  var earthRadiusKm = 6371;\n\n  var dLat = degreesToRadians(lat2 - lat1);\n  var dLon = degreesToRadians(lon2 - lon1);\n\n  lat1 = degreesToRadians(lat1);\n  lat2 = degreesToRadians(lat2);\n\n  var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return earthRadiusKm * c;\n}","import React, { Component, createContext } from 'react'\nimport { FlyToInterpolator } from 'react-map-gl';\nimport { getDetailHistory } from \"../components/firebase/History\";\nimport { AuthContext } from './AuthContext';\nimport { distanceInKmBetweenEarthCoordinates } from '../components/maplayout/calcDistance'\n//import WebMercatorViewport from 'viewport-mercator-project';\nexport const TripdataContext = createContext();\n\n\nclass TripdataContextProvider extends Component {\n    static contextType = AuthContext;\n    constructor(props) {\n        super(props);\n        this.state = {\n            dayList: [],\n            currentDayList: [],\n            AroundList: [],\n            CurrentAround: [],\n            TopList: [],\n            showplan: false,\n            popupInfo: null,\n            city: this.props.details,\n            poiList: [],\n            uid: \"\",\n            planId: \"\",\n            loading: true,\n            TopListLoading: true,\n            listCenter: [],\n            day: 0,\n        }\n    }\n    setPlanId = (planId) => {\n        this.setState({\n            planId: planId\n        })\n    }\n\n    showPlan() {\n        this.setState({\n            showplan: !this.state.showplan\n        })\n    }\n\n    setLoading() {\n        this.setState({\n            loading: false\n        })\n    }\n\n    setTopList = (list) => {\n        this.setState({\n            TopList: list\n        })\n    }\n\n    setPopupinfo = (info) => {\n        this.setState({\n            popupInfo: info,\n            viewport: {\n                latitude: info.lat,\n                longitude: info.long,\n                zoom: 13,\n                pitch: 40,\n                transitionDuration: 1000,\n                transitionInterpolator: new FlyToInterpolator()\n            }\n        })\n    }\n\n    closePopup = () => {\n        this.setState({ popupInfo: null })\n        return true;\n    }\n\n    componentDidMount() {\n        this.fetchTopListData()\n        if (this.props.details.planId === \"0\") {\n            this.fetchDayPlanData()\n        } else {\n            this.fetchRemoteDayPlan(this.props.details.planId)\n        }\n        this.setState({\n            viewport: {\n                latitude: this.props.details.coordinates.latitude,\n                longitude: this.props.details.coordinates.longitude,\n                zoom: 13,\n                pitch: 40,\n            },\n        })\n    }\n\n    fetchRemoteDayPlan = async (planId) => {\n        // const { uid } = this.context;\n        try {\n            console.log(localStorage.getItem('uid'))\n            const data = await getDetailHistory(localStorage.getItem('uid'), planId);\n            const center = this.findCenter(data[1][0]);\n            this.setState({\n                dayList: data[0],\n                currentDayList: data[0][0],\n                AroundList: data[1],\n                CurrentAround: data[1][0],\n                listCenter: center\n            })\n            this.setLoading()\n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n\n\n    _updateViewport = viewport => {\n        this.setState({\n            viewport\n        })\n    }\n\n    fetchTopListData() {\n        const url = \"http://13.58.39.66/api/topPoi?cityName=\" + this.state.city.city + \"&type=all\"\n        return fetch(url)\n            .then(response => response.json())\n            .then(data => { console.log(data)\n              this.setState({ TopList: data })})\n            .catch(error => console.log(\"Load data failed\"));\n    }\n\n    fetchMoreTopListData() {\n        var len = this.state.TopList.length\n        if (len % 10 === 0) {\n            const url = \"http://13.58.39.66/api/topPoi?cityName=\" + this.state.city.city + \"&type=all&score=\" +\n                this.state.TopList[len - 1].score + \"&poiId=\" + this.state.TopList[len - 1].id;\n            return fetch(url)\n                .then(response => response.json())\n                .then(data => this.setState({\n                    TopList: this.state.TopList.concat(data),\n                    TopListLoading: data.length && true\n                }))\n                .catch(error => console.log(\"Load data failed\"));\n        } else {\n            console.log(\"go here\")\n            this.setState({\n                TopListLoading: false\n            })\n        }\n    }\n\n    fetchDayPlanData() {\n        const url = \"http://13.58.39.66/api/dayPlan?cityName=\" + this.props.details.city + \"&days=\" + this.props.details.days\n        return fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                const center = this.findCenter(data[1][0])\n                this.setState({ dayList: data[0], currentDayList: data[0][0], AroundList: data[1], CurrentAround: data[1][0], listCenter: center })\n                this.setLoading()\n            })\n            .catch(error => console.log(\"Load data failed\"));\n    }\n\n    fetchAround(lat, long) {\n        const url = \"http://13.58.39.66/api/nearBy?lat=\" + lat + \"&lon=\" + long;\n        const AroundList = this.state.AroundList;\n        console.log(AroundList)\n        console.log(url);\n        return fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                console.log(data)\n                AroundList[this.state.day] = data;\n                console.log(AroundList)\n                this.setState({\n                    //AroundList: AroundList,\n                    CurrentAround: data\n                })\n            })\n            .catch(error => console.log(\"Load data failed\"));\n    }\n\n    updateItem = (list, index) => {\n        if (list === this.state.currentDayList) {\n            this.showPlan();\n        } else if (this.state.showplan === false) {\n            this.showPlan();\n        }\n        // let poilist = []\n        // for (var i = 0; i < list.length; i++) {\n        //   let ele = []\n        //   ele.push(list[i].long)\n        //   ele.push(list[i].lat)\n        //   poilist.push(ele)\n        // }\n        //console.log(this.state.viewport)\n        // console.log(poilist)\n        const center = this.findCenter(list);\n        // const { longitude, latitude, zoom } = new WebMercatorViewport({ longitude: center[1], latitude: center[0], zoom: 15 }).fitBounds(poilist)\n        // console.log(longitude + \" \" + latitude + \" \" + zoom)\n        this.setViewport(center[0], center[1], 13)\n        this.setState({\n            currentDayList: list,\n            CurrentAround: this.state.AroundList[index],\n            day: index,\n            listCenter: center\n        });\n    }\n\n    reorder = (list, startIndex, endIndex) => {\n        const result = this.state.currentDayList;\n        const [removed] = result.splice(startIndex, 1);\n        result.splice(endIndex, 0, removed);\n        this.setState({\n            currentDayList: result,\n        });\n    }\n\n    reorder_day = (list, startIndex, endIndex) => {\n        const result = [...list];\n        const [removed] = result.splice(startIndex, 1);\n        result.splice(endIndex, 0, removed);\n        this.setState({\n            dayList: result,\n        });\n    }\n\n    // delete by loop\n    deleteByLoop = (item) => {\n        const result = this.state.currentDayList;\n        for (let i = 0; i < result.length; i++) {\n            if (result[i].name === item.name) {\n                this.deleteItem(i);\n            }\n        }\n        this.setState({\n            currentDayList: result,\n        });\n    }\n\n    // delete by index\n    deleteItem = (index) => {\n        const result = this.state.currentDayList;\n        result.splice(index, 1);\n        const preCenter = this.state.listCenter;\n        const curCenter = this.findCenter(result);\n        const dis = distanceInKmBetweenEarthCoordinates(preCenter[0], preCenter[1], curCenter[0], curCenter[1]);\n        console.log(dis)\n        if (dis > 2 && result.length !== 0) {\n            this.fetchAround(curCenter[0], curCenter[1]);\n        }\n        this.setState({\n            currentDayList: result,\n            listCenter: curCenter,\n            popupInfo: null\n        });\n        // console.log(this.state.currentDayList)\n    }\n\n    addItem = (item) => {\n        const result = this.state.currentDayList;\n        item.inPlan = true;\n        result.push(item);\n        this.setState({\n            currentDayList: result,\n        });\n    }\n\n    setViewport = (lat, long, zoom) => {\n        this.setState({\n            viewport: {\n                latitude: lat,\n                longitude: long,\n                zoom: zoom,\n                pitch: 40,\n                transitionDuration: 1000,\n                transitionInterpolator: new FlyToInterpolator()\n            }\n        })\n    }\n\n    findCenter = (list) => {\n        let len = list.length\n        var lat = 0;\n        var long = 0;\n        for (var i = 0; i < len; i++) {\n            lat += list[i].lat\n            long += list[i].long\n        }\n        return [lat / len, long / len]\n    }\n\n    render() {\n        return (\n            <TripdataContext.Provider value={{\n                ...this.state,\n                updateItem: this.updateItem.bind(this),\n                reorder: this.reorder,\n                reorder_day: this.reorder_day,\n                deleteItem: this.deleteItem,\n                showPlan: this.showPlan,\n                setPlanId: this.setPlanId,\n                addItem: this.addItem,\n                deleteByLoop: this.deleteByLoop,\n                setPopupinfo: this.setPopupinfo,\n                closePopup: this.closePopup,\n                setTopList: this.setTopList,\n                fetchMoreTopListData: this.fetchMoreTopListData.bind(this),\n                _updateViewport: this._updateViewport,\n                setViewport: this.setViewport\n            }}>\n                {this.props.children}\n            </TripdataContext.Provider>\n        )\n    }\n}\n\nexport default TripdataContextProvider","import React, { Component } from 'react';\nimport { MAPBOX_TOKEN, MAP_STYLE_URL } from '../../constants';\nimport MapGL, { Popup, NavigationControl, FullscreenControl, ScaleControl, FlyToInterpolator } from 'react-map-gl';\nimport {Pin} from './pin';\nimport CityInfo from './CityInfo';\nimport DeckGL from '@deck.gl/react';\nimport { LineLayer } from '@deck.gl/layers';\nimport { TripdataContext } from \"../../contexts/TripdataContext\";\n//import WebMercatorViewport from 'viewport-mercator-project';\nimport { addHistory, generateNewPlanId } from \"../../components/firebase/History\";\n\n\n\nexport class MapScreen extends Component {\n  static contextType = TripdataContext\n  //40.730610, -73.935242\n  //this.props.coordinates.latitude\n  \n  \n  _onClickMarker = pointInfo => {\n    const { setPopupinfo, setViewport } = this.context;\n    this.setState({\n      viewport: {\n        latitude: pointInfo.lat,\n        longitude: pointInfo.long,\n        zoom: 13,\n        pitch: 40,\n        transitionDuration: 1000,\n        transitionInterpolator: new FlyToInterpolator()\n      },\n    })\n    setViewport(pointInfo.lat, pointInfo.long, 13);\n    setPopupinfo(pointInfo);\n  };\n\n  getButton = (id) => {\n    if (id !== \"\") {\n      return (<button className=\"save\" onClick={this.handleSubmit} style={{fontFamily: \"-apple-system,system-ui\"}}>\n                Save your plan\n              </button>)\n    } else {\n      return (<button onClick={this.jumpFunc} className=\"savInput\" style={{fontFamily: \"-apple-system,system-ui\"}}>\n                Please Sign up to save your plan\n              </button>)\n    }\n  }\n\n  findPOIinDayList(popupInfo) {\n    const { currentDayList } = this.context;\n    for (let i = 0; i < currentDayList.length; i++) {\n      if  (popupInfo.name === currentDayList[i].name) {\n        return currentDayList[i];\n      }\n    }\n    return popupInfo;\n  }\n\n  _renderPopup() {\n    const { popupInfo, closePopup, addItem, deleteByLoop } = this.context;\n    return (\n      popupInfo && (\n        <Popup\n          longitude={popupInfo.long}\n          latitude={popupInfo.lat}\n          closeOnClick={false}\n          onClose={() => closePopup()}\n        >\n          <CityInfo info={this.findPOIinDayList(popupInfo)}\n                    addItem={addItem.bind(this.context)}\n                    deleteByLoop={deleteByLoop.bind(this.context)}\n          />\n        </Popup>\n      )\n    );\n  }\n\n  createPoilist = (longitude, latitude) => {\n    return [longitude, latitude];\n  }\n\n  createLinearElement = (cur, next) => {\n    const curPoilist = this.createPoilist(cur.long, cur.lat)\n    const nextPoilist = this.createPoilist(next.long, next.lat)\n    return {\n      sourcePosition: curPoilist,\n      targetPosition: nextPoilist\n    }\n  }\n\n  createLinear = (list) => {\n    const len = list.length;\n    const result = [];\n    for (let i = 1; i < len; i++) {\n      result.push(this.createLinearElement(list[i-1], list[i]))\n    }\n    return result;\n  }\n\n  handleSubmit = async (e) => {\n    const {dayList, city, AroundList, setPlanId, planId } = this.context;\n    e.preventDefault();\n    var pId;\n    try {\n        // console.log(this.props.uid);\n        if (planId === \"\") {\n          pId = await generateNewPlanId(this.props.uid);\n          setPlanId(pId);\n        } else {\n            pId = planId;\n        }\n        \n        // console.log(pId);\n        const result = await addHistory(this.props.uid, pId, city, dayList, AroundList);\n        alert(\"You have successfully saved your plan!\");\n        console.log(result);\n    } catch (error) {\n        console.log(error.message);\n    }\n\n  }\n\n  jumpFunc = () => {\n    window.location.replace(\"/signup\")\n  }\n\n\n  render() {\n    const { currentDayList, CurrentAround, viewport, _updateViewport } = this.context;\n    const data = this.createLinear(currentDayList)\n    const layers = [\n      new LineLayer({ id: 'line-layer', data, getWidth: 6, getColor: [52,63,103]})\n    ]; \n    return (\n      <div className=\"MapGL\">\n        <MapGL\n          {...viewport}\n          width=\"100vw\" \n          height=\"100vh\"\n          mapStyle= {MAP_STYLE_URL}\n          onViewportChange={_updateViewport}\n          mapboxApiAccessToken={MAPBOX_TOKEN}\n        >\n          <DeckGL viewState={viewport} layers={layers}>\n            <Pin data={CurrentAround} onClickMarker={this._onClickMarker} color={\"#FA6585\"} />\n            <Pin data={currentDayList} onClickMarker={this._onClickMarker} color={\"#343F67\"}/>\n            {this._renderPopup()}\n          </DeckGL>\n\n          <div className=\"scale\">\n            <ScaleControl />\n          </div>\n\n          <div className=\"fullscreenControl\">\n            <FullscreenControl />\n          </div>\n          \n          {this.getButton(this.props.uid)}\n          \n          <div className=\"navControl\">\n            <NavigationControl />\n          </div>\n        \n        </MapGL>\n\n      </div>\n    ) \n  }\n}\n\nexport default MapScreen\n\n\n\n","export const MAPBOX_TOKEN = \"pk.eyJ1IjoieXVxaXNoYSIsImEiOiJjazhrZ2lxdmowMW5pM3Nud3Y5czFteTBxIn0.kXd9PaP0RJZe3obGN1zWWQ\";\nexport const MAP_STYLE_URL = \"mapbox://styles/yuqisha/ck91uiudq01yy1ip8j74db6ke\";","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CircularIndeterminate() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  );\n}","import React, {Component} from 'react';\nimport {DragDropContext, Draggable, Droppable} from \"react-beautiful-dnd\";\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\nimport CircularIndeterminate from './spinner';\n\nconst getListStyle = isDraggingOver => ({\n    //background: isDraggingOver ? \"lightblue\" : \"blue\",\n    background: \"white\",\n    padding: 8,\n    width: 120,\n    borderColor: '#000000',\n    position: \"absolute\",\n    overflow: \"auto\",\n\n});\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n    // some basic styles to make the items look a bit nicer\n    userSelect: \"none\",\n    padding: 8 * 2,\n    margin: `0 0 ${8}px 0`,\n    borderWidth: 200,\n    borderColor: \"black\",\n    borderRadius: 7,\n    // change background colour if dragging\n    background: isDragging ? \"#FA6585\" : '#f7fcff',\n    fontWeight: \"bold\",\n    color: '#343F67',\n    // color: '#FFFFFF',\n    // styles we need to apply on draggables\n    flexWrap: \"wrap\",\n    ...draggableStyle\n});\n\n\nclass DayOverView extends Component {\n    constructor(props) {\n        super(props);\n        this.onDragEnd = this.onDragEnd.bind(this);\n    }\n\n    re_order(list, start, end) {\n        return this.props.reorder(list, start, end);\n    }\n\n    add(poi, index) {\n        this.props.updateItem(poi, index);\n    }\n\n    onDragEnd(result) {\n        if (!result.destination) {\n            return;\n        } else {\n            this.re_order(\n                this.props.items,\n                result.source.index,\n                result.destination.index,\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <DragDropContext onDragEnd={this.onDragEnd} className=\"dragDropContext\">\n                    <Droppable droppableId=\"droppable\">\n                        {(provided, snapshot) => (\n                            <div\n                                className=\"items-style\"\n                                {...provided.droppableProps}\n                                ref={provided.innerRef}\n                                style={getListStyle()}\n                            >\n                                {this.props.loading &&\n                                <div className=\"LeftListSpinner\"><CircularIndeterminate></CircularIndeterminate></div>}\n                                {this.props.items.map((item, index) => (\n                                    <Draggable key={index} draggableId={index + \"\"} index={index}>\n                                        {(provided, snapshot) => (\n                                            <div\n                                                onClick={() => {\n                                                    this.add(item, index);\n                                                }}\n                                                ref={provided.innerRef}\n                                                {...provided.draggableProps}\n                                                {...provided.dragHandleProps}\n\n                                                style={getItemStyle(\n                                                    snapshot.isDragging,\n                                                    provided.draggableProps.style\n                                                )}\n                                            >\n                                                <DehazeIcon style={{marginRight: \"5px\"}}/>\n                                                {`Day ${index + 1}`}\n                                            </div>\n                                        )}\n                                    </Draggable>\n                                ))}\n                                {provided.placeholder}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n            </div>\n        );\n    }\n}\n\nexport default DayOverView;","import React, { Component } from 'react';\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst getListStyle = isDraggingOver => ({\n  // background: isDraggingOver ? \"lightblue\" : \"lightblue\",\n  background: 'white',\n  padding: 8,\n  marginLeft: 110,\n  position: \"absolute\",\n  overflow: \"auto\",\n});\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  position: 'relative',\n  padding: 10,\n  margin: `0 0 ${8}px 0`,\n  borderRadius: 8,\n  // change background colour if dragging\n  background: isDragging ? \"#FA6585\" : '#f7fcff',\n  fontWeight: \"bold\",\n  color: '#343F67',\n\n  flexWrap: \"wrap\",\n  width: 250,\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\n\nclass CurrentDay extends Component {\n  constructor(props) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n\n  re_order(list, start, end) {\n    return this.props.reorder(list, start, end);\n  }\n\n  onDragEnd(result) {\n    if (!result.destination) {\n      return;\n    } else {\n      this.re_order(\n        this.props.items,\n        result.source.index,\n        result.destination.index,\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <DragDropContext onDragEnd={this.onDragEnd} className=\"dragDropContext\">\n          <Droppable droppableId=\"droppable\">\n            {(provided, snapshot) => (\n              <div\n                className=\"dayList-style\"\n                {...provided.droppableProps}\n                ref={provided.innerRef}\n                style={getListStyle()}\n              >\n                {this.props.items.map((item, index) => (\n                  <Draggable key={item.id} draggableId={item.id} index={index} >\n                    {(provided, snapshot) => (\n                      <div\n                        onClick={() => {\n                          this.props.setPopupinfo(item);\n                        }}\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        className=\"items-style\"\n                        style={getItemStyle(\n                          snapshot.isDragging,\n                          provided.draggableProps.style\n                        )}\n                      >\n                        {`${index + 1} `}\n                        {item.name}\n\n                        <DeleteIcon\n                          className=\"deleteIcon\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            this.props.deleteItem(index);\n                          }}\n                          style={{\n                            position: 'absolute',\n                            right: 5,\n                            margin: 1,\n                            top: 8,\n                          }}\n                        />\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </div>\n    );\n  }\n}\n\nexport default CurrentDay;","import React, {Component} from \"react\";\nimport DayOverView from \"./DayOverView\";\nimport CurrentDay from \"./CurrentDay\";\nimport {TripdataContext} from \"../../../contexts/TripdataContext\";\n\n\nclass ListView extends Component {\n    static contextType = TripdataContext;\n\n    render() {\n      const {loading, showPlan, dayList, currentDayList, updateItem, reorder, reorder_day, deleteItem, showplan, setPopupinfo} = this.context;\n        return (\n            <div className=\"flexbox\">\n                <DayOverView\n                    items={dayList}\n                    loading={loading}\n                    updateItem={updateItem.bind(this)}\n                    reorder={reorder_day.bind(this.context)}\n                    showPlan={showPlan}/>\n                {\n                    showplan &&\n                    <CurrentDay\n                        items={currentDayList}\n                        reorder={reorder.bind(this.context)}\n                        deleteItem={deleteItem.bind(this.context)}\n                        setPopupinfo={setPopupinfo.bind(this.context)}/>}\n            </div>\n        );\n    }\n}\n\nexport default ListView","import React, { useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport CollectionsIcon from '@material-ui/icons/Collections';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { TripdataContext } from \"../../contexts/TripdataContext\";\nimport CircularIndeterminate from \"../maplayout/LeftList/spinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: 380,\n    backgroundColor: \"white\",\n  },\n  gridroot: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  gridList: {\n    flexWrap: 'wrap',\n    height: \"65vh\",\n    width: 250,\n    transform: 'translateZ(0)',\n  },\n}));\n\nexport default function NestedList(props) {\n  const classes = useStyles();\n  const scrollRef = useRef();\n  const [open, setOpen] = React.useState(true);\n  const { TopList, setPopupinfo, fetchMoreTopListData, TopListLoading } = React.useContext(TripdataContext)\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const loadData = () => {\n    if (scrollRef.current.scrollTop + scrollRef.current.clientHeight >= scrollRef.current.scrollHeight) {\n      fetchMoreTopListData();\n    }\n  }\n\n  const createGridList = (data) => {\n    return TopList.map((point) => (\n      <GridListTile key={point.id} onClick={() => setPopupinfo(point)}>\n        <img src={point.images[0]} alt=\" \" />} />\n        <GridListTileBar\n          title={point.name}\n          classes={{\n            root: classes.titleBar,\n            title: classes.title,\n          }}\n        />\n      </GridListTile>\n    ))\n  }\n  \n  return (\n    <div className=\"TopList\">\n      <List\n        component=\"div\"\n        className={classes.root}\n      >\n        <ListItem button onClick={handleClick}>\n          <ListItemIcon>\n            <CollectionsIcon color=\"secondary\" style={{marginRight: 5}}/>\n          </ListItemIcon>\n          <ListItemText primary=\"Popular Places\" style={{\n            fontFamily: \"-apple-system,system-ui\"\n          }}/>\n          {open ? <ExpandLess /> : <ExpandMore />}\n        </ListItem>\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <div className={classes.gridroot} onScroll={loadData}>\n            <GridList cellHeight={200} spacing={1} className={classes.gridList} cols={1} ref={scrollRef} style={{fontFamily: \"-apple-system,system-ui\"}}>\n              {TopList && createGridList(TopList)}\n              {TopListLoading && <div className=\"TopListSpinner\"><CircularIndeterminate></CircularIndeterminate></div> } \n            </GridList>\n            \n          </div>\n          \n        </Collapse>\n      </List>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport MapScreen from \"../maplayout/MapScreen\";\nimport ListView from \"../maplayout/LeftList/ListView\";\nimport TopList from \"../maplayout/TopList\";\nimport TripdataContextProvider from \"../../contexts/TripdataContext\";\nimport {AuthContext} from \"../../contexts/AuthContext\";\n\nclass EditMapPage extends Component {\n  static contextType = AuthContext;\n  \n  render() {\n    const { lat, long, days, city, planId} = this.props.match.params\n    const details = {\n      city: city,\n      coordinates: { latitude: parseFloat(lat), longitude: parseFloat(long)},\n      days: days,\n      planId: planId\n    }\n    const {uid} = this.context;\n    return (\n      <div className=\"EditMap\">\n        <TripdataContextProvider uid={uid} details={details} >\n          <MapScreen uid={uid}/>\n          <ListView />\n          <TopList className=\"TopList\" />\n        </TripdataContextProvider>\n      </div>\n    );\n  }\n}\n\nexport default EditMapPage;\n","import React, {Component} from 'react';\nimport { Card, Avatar } from 'antd';\nimport {AuthContext} from \"../../../../contexts/AuthContext\";\n\n\nconst { Meta } = Card;\n\n\nclass Profile extends Component {\n    static contextType = AuthContext;\n\n    render() {\n        const {email} = this.context;\n        return (\n            <div style={{\n                marginTop: 50,\n                marginLeft: 400,\n            }}>\n                <Card\n                    style={{\n                        width: 300,\n\n                    }}\n                    cover={\n                        <img\n                            alt=\"example\"\n                            src=\"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png\"\n                        />\n                    }\n                >\n                    <Meta\n                        avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\n                        title={email}\n                    />\n                </Card>\n            </div>\n        );\n    }\n}\n\nexport default Profile;","import React, {Component} from 'react';\nimport {Button, Collapse, List} from 'antd';\nimport {NavLink} from \"react-router-dom\";\nimport {getAllBriefHistory} from \"../../../firebase/History\"\nimport {AuthContext} from \"../../../../contexts/AuthContext\";\n\n\nconst {Panel} = Collapse;\n\nconst makePoiList = (item) => {\n    const array = [];\n    const briefPlan = item.info.briefPlan;\n    for (let i = 0; i < briefPlan.length; i++) {\n        for (let j in briefPlan[i]) {\n            for (let k = 0; k < briefPlan[i][j].length; k++) {\n                array.push(briefPlan[i][j][k]);\n            }\n        }\n    }\n    return array;\n}\n\nclass History extends Component {\n    constructor() {\n        super();\n        this.state = {\n            briefHistory: [],\n        }\n    }\n\n    static contextType = AuthContext;\n\n    genExtra = (item) => {\n        return (\n            <NavLink to={{\n                pathname: '/map/' + item.info.cityName.coordinates.latitude + '/' +\n                    item.info.cityName.coordinates.longitude\n                    + '/' + item.info.days + '/' + item.info.cityName.city + '/' + item.planId,\n                details: {\n                    city: item.info.cityName.city,\n                    coordinates: {\n                        latitude: item.info.cityName.coordinates.latitude,\n                        longitude: item.info.cityName.coordinates.longitude,\n                    },\n                    days: item.info.days,\n\n                }\n            }}>\n                <Button type=\"primary\" style={{\n                    background: \"#FA6585\",\n                    borderColor: \"#FA6585\",\n                    top: -5,\n                }}>\n                    Retrieve Trips\n                </Button>\n            </NavLink>\n        )};\n\n    getBriefHistory = async () => {\n        const {uid} = this.context;\n        try {\n            const result = await getAllBriefHistory(uid);\n            this.setState({\n                briefHistory: result,\n            })\n            console.log(uid)\n            console.log(this.state.briefHistory)\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    componentDidMount() {\n        this.getBriefHistory();\n    }\n\n    render() {\n        // this.getBriefHistory();\n        return (\n            <div style={{\n                marginTop: 50,\n                marginLeft: 200,\n            }}>\n                <List\n                    style={{\n                        width: 800,\n                    }}\n                    size=\"small\"\n                    header={<h2>Saved Trips</h2>}\n                    bordered\n                    pagination={{\n                        onChange: page => {\n                            //console.log(page);\n                        },\n                        pageSize: 3,\n\n\n                    }}\n                    dataSource={this.state.briefHistory}\n                    renderItem={item =>\n                        (\n                            <Collapse accordion>\n                                <Panel key=\"1\"\n                                       header={item.info.cityName.city + \" \" + item.info.days + \" Day(s)\"}\n                                       extra={this.genExtra(item)}\n                                >\n                                    <List\n                                        size=\"small\"\n                                        bordered\n                                        dataSource={makePoiList(item)}\n                                        renderItem={item =>\n                                            <List.Item\n                                                key={item}\n                                            >\n                                                {item}\n                                            </List.Item>}\n                                    />\n                                </Panel>\n                            </Collapse>\n                        )\n                    }\n                />\n            </div>\n        );\n    }\n}\n\nexport default History;","import React, {Component} from 'react';\n\n\nclass AboutUs extends Component {\n    render() {\n        return (\n            <div style={{\n                marginTop: 50,\n                marginLeft: 200,\n            }}>\n\n                <div>\n                    <h1>\n                        Our Team\n                    </h1>\n                    <div style={{\n                        marginLeft: 5,\n                    }}>\n                        <p>\n                            <a href='https://github.com/gwd0715' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Chris\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://www.linkedin.com/in/baobaollf' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Linfeng Li\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://github.com/peteryang11' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Qi Yang\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://github.com/ccait' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Tianqi Cai\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://github.com/skipwen2008' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Wei Wen\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://www.linkedin.com/in/yaodongs970215' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Yaodong Sun\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://www.linkedin.com/in/yuqiwangyuqi' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Yuqi Wang\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://github.com/yuqisha' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Yuqi Sha\n                            </a>\n                        </p>\n                        <p>\n                            <a href='https://www.linkedin.com/in/zetao-zhu-7287a1149/' target=\"_blank\" rel=\"noopener noreferrer\">\n                                Zetao Zhu\n                            </a>\n                        </p>\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AboutUs;","import React from 'react';\nimport Profile from \"./Profile\";\nimport History from \"./History\";\nimport AboutUs from \"./AboutUs\";\n\nconst selectPage = (props) => {\n    if (props.page === \"About us\") {\n        return <AboutUs/>\n    } else if (props.page === \"History\") {\n        return <History/>\n    } else {\n        return <Profile style={{\n            padding: 500,\n        }}/>\n    }\n}\n\nexport default function PageController(props) {\n    return selectPage(props);\n}","import React, {Component} from 'react';\nimport {Menu} from 'antd';\nimport {AppstoreOutlined} from '@ant-design/icons';\nimport PageController from \"./Pages/PageController\";\n\nconst {SubMenu} = Menu;\n\nclass ProfilePage extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            page: \"Profile\"\n        }\n    }\n\n    handleClick = e => {\n        this.setState({\n            page: e.key\n        })\n    };\n\n    render() {\n        return (\n            <div style={{\n                display: \"flex\",\n            }}>\n                <Menu\n                    onClick={this.handleClick}\n                    style={{\n                        width: 200,\n\n                    }}\n                    defaultSelectedKeys={['1']}\n                    defaultOpenKeys={['sub1']}\n                    mode=\"inline\"\n                    className=\"profilePage-menu\"\n                >\n                    <SubMenu\n                        key=\"sub1\"\n                        title={\n                            <span>\n              <AppstoreOutlined/>\n              <span style={{\n                  fontSize: 18,\n              }}>\n                  Menu\n              </span>\n            </span>\n                        }\n                    >\n                        <Menu.Item key=\"Profile\" style={{\n                            fontSize: 16,\n                        }}>Profile\n                        </Menu.Item>\n                        <Menu.Item key=\"History\" style={{\n                            fontSize: 16,\n                        }}>History</Menu.Item>\n                        <Menu.Item key=\"About us\" style={{\n                            fontSize: 16,\n                        }}>About us</Menu.Item>\n                    </SubMenu>\n                </Menu>\n                <PageController\n                    page={this.state.page}\n                />\n\n\n            </div>\n\n        )\n    }\n}\n\nexport default ProfilePage;","import { auth, db } from './Client.js';\n\nexport const userSignUp = async (username, email, password) => {\n    try {\n        const cred = await auth.createUserWithEmailAndPassword(email, password);\n        const userInfo = {\n            email: email,\n            username: username\n        };\n        await db.collection('Users').doc(cred.user.uid).set(userInfo);\n        return 'SignUp OK';\n    } catch (error) {\n        return error.message;\n    }\n};\n\nexport const userSignIn = async (email, password) => {\n    try {\n        const cred = await auth.signInWithEmailAndPassword(email, password);\n        return cred.user.uid;\n    } catch (error) {\n        var errorMessage = error.message;\n        console.log(errorMessage);\n        return `${errorMessage} Sign in failed, please try again!`;\n    }\n};\n\nexport const userLogout = async () => {\n    try {\n        await auth.signOut();\n        return 'Signout OK';\n    } catch (error) {\n        return error.message + ' Logout Failed';\n    }\n};\n","import React, {Component} from 'react';\nimport \"./Style.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Button, Form, FormGroup, FormControl, ControlLabel} from 'react-bootstrap';\nimport {userSignIn} from \"../firebase/Authentication\";\n// import background from '../../assets/images/background.jpg';\n\nimport {withRouter} from \"react-router-dom\";\nimport {AuthContext} from \"../../contexts/AuthContext\";\n\nclass SignInPage extends Component {\n    static contextType = AuthContext;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            uid: ''\n        }\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n\n    handleSubmit = async (e) => {\n        e.preventDefault();\n        const {setUid, setOther} = this.context;\n\n        try {\n            const result = await userSignIn(this.state.email, this.state.password);\n            this.setState({\n                uid: result\n            })\n            // console.log(this.state.uid);\n            if (result !== 0) {\n                // console.log(this.props.history);\n                // this.props.history.push(\"/\");\n                setUid(result);\n                setOther(this.state.email, '');\n                this.props.history.goBack();\n            }\n\n            this.props.setUid(this.state.uid);\n        } catch (error) {\n            console.log(error.message);\n        }\n\n    }\n\n\n    render() {\n        // console.log(this.context)\n        return (\n            <div className=\"container\">\n                <Form className=\"form\" onSubmit={this.handleSubmit}>\n                    {/* <FormGroup className=\"form-group\" size=\"sm\">\n                        <ControlLabel className=\"label\">Username</ControlLabel>\n                        <FormControl id=\"username\" type=\"username\" placeholder=\"Input Username\" onChange={this.handleChange}/>\n                    </FormGroup> */}\n                    <FormGroup className=\"form-group\" size=\"sm\">\n                        <ControlLabel className=\"label\">Email</ControlLabel>\n                        <FormControl id=\"email\" type=\"username\" placeholder=\"Input Email\" onChange={this.handleChange} required/>\n                    </FormGroup>\n                    <FormGroup className=\"form-group\" size=\"sm\">\n                        <ControlLabel className=\"label\">Password</ControlLabel>\n                        <FormControl id=\"password\" type=\"password\" placeholder=\"Input Password\"\n                                     onChange={this.handleChange} required/>\n                    </FormGroup>\n                    {/* <NavLink to={{pathname: '/profile',}}> */}\n                    <Button className=\"button\" size=\"sm\" variant=\"warning\" type=\"submit\">\n                        <p className=\"signup\">Sign In</p>\n                    </Button>\n                    {/* </NavLink> */}\n                    <FormGroup className=\"newuser\" size=\"sm\">\n                        <p className=\"fontsize\">\n                            \"New User?\"\n                            <a href=\"./signup\">Sign Up Free!</a>\n                        </p>\n                    </FormGroup>\n                </Form>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(SignInPage);","import React, { Component } from 'react';\nimport \"./Style.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { userSignUp } from '../firebase/Authentication';\nimport { Button, Form, FormGroup, FormControl, ControlLabel} from 'react-bootstrap';\nimport {AuthContext} from \"../../contexts/AuthContext\";\n\nclass SignUpPage extends Component {\n  static contextType = AuthContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      email: '',\n      password: ''\n\n    }\n  }\n\n  // functions handle state change and submit\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  }\n\n  handleSubmit = async (e) => {\n    const { setOther } = this.context;\n    e.preventDefault();\n    try {\n      const result = await userSignUp(this.state.username, this.state.email, this.state.password);\n      setOther(this.state.email, this.state.username);\n      if (result !== 0) {\n        this.props.history.push(\"/signin\");\n      }\n    } catch (error) {\n        return error.message;\n      }\n  }\n\n  \n  render() {\n    \n    return (\n      <div className=\"container\">\n        <Form className=\"form\" onSubmit={this.handleSubmit}>\n          <FormGroup size=\"lg\">\n            <ControlLabel className=\"label\">Username</ControlLabel>\n            <FormControl id=\"username\" type=\"username\" placeholder=\"Username\" onChange={this.handleChange} required />\n          </FormGroup>\n          <FormGroup size=\"lg\">\n            <ControlLabel className=\"label\" required>Email address</ControlLabel>\n            <FormControl id=\"email\" type=\"emails\" placeholder=\"Email\" onChange={this.handleChange} required/>\n          </FormGroup>\n          <FormGroup size=\"lg\">\n            <ControlLabel className=\"label\" required>Password</ControlLabel>\n            <FormControl id=\"password\" minlength=\"6\" type=\"password\" placeholder=\"Password\" onChange={this.handleChange} required/>\n          </FormGroup>\n          <ControlLabel className=\"notice\">By signing up, you agree to all user terms.</ControlLabel>\n            <Button className=\"button\" size=\"sm\" variant=\"warning\" type=\"submit\" >\n              <p className=\"signup\">Sign up</p>\n            </Button>\n        </Form>\n      </div>\n\n    )\n  }\n}\n\n\n\nexport default SignUpPage;","import React, {Component} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport {userLogout} from '../firebase/Authentication';\nimport {AuthContext} from \"../../contexts/AuthContext\";\n\nclass SignedInLinks extends Component {\n    static contextType = AuthContext;\n    handleOnclick = async () => {\n        const { setUid } = this.context;\n        try {\n            await userLogout();\n            localStorage.setItem('uid',\"\")\n            this.props.setUid(\"\");\n            setUid(\"\");\n        } catch (error) {\n            return error.message;\n        }\n    }\n    render() {\n        return (\n            <ul className=\"right\">\n                <li><NavLink to='/' onClick={this.handleOnclick} className=\"log-out-text\">Logout</NavLink></li>\n                <li><NavLink to='/profile' className=\"btn\"><AccountCircleIcon className=\"AccountIcon\"></AccountCircleIcon></NavLink></li>\n\n\n            </ul>\n        )\n    }\n\n}\n\n\nexport default SignedInLinks;","import React, {Component} from 'react';\nimport { NavLink } from 'react-router-dom';\n\n\nclass SignedOutLinks extends Component {\n  // state = {\n  //   uid: ''\n  // }\n  // handleUid = (uid) => {\n  //  this.props.setUid(uid);\n  // }\n\n  render () {\n    return (\n      <ul className=\"right\">\n      <li><NavLink to='/signin' className=\"login-text\">Login</NavLink></li>\n      <li><NavLink to='/signup' className=\"signup-text\">Sign up</NavLink></li>\n      </ul>\n    )\n  }\n}\n\n\n\nexport default SignedOutLinks;","import React, {Component} from \"react\";\n\nimport logo from \"../../assets/images/logo 1.png\";\n\nimport {Link} from \"react-router-dom\";\n\nimport SignedInLinks from \"./SignedInLinks\";\nimport SignedOutLinks from \"./SignedOutLinks\";\n\n\nclass Navbar extends Component {\n\n    render() {\n        let links = <SignedInLinks setUid={this.props.setUid}/>;\n        if (localStorage.getItem(\"uid\") === \"\") {\n            links = <SignedOutLinks/>;\n        } else {\n            links = <SignedInLinks setUid={this.props.setUid}/>;\n        }\n        return (\n            <div className=\"navbar-fixed\">\n                <nav className=\"nav-wrapper\">\n                    <Link to=\"/\" className=\"brand-logo\">\n                        <img src={logo} className=\"app-logo\" alt=\"logo\"/>\n                        <div className=\"brand-name\">AlphaGo</div>\n                    </Link>\n                    {links}\n                </nav>\n            </div>\n        )\n    }\n\n}\n\nexport default Navbar;\n","import React, {Component} from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport EditMapPage from './components/layout/EditMap';\nimport ProfilePage from './components/layout/ProfilePage/ProfilePage';\nimport SignInPage from './components/auth/SignInPage';\nimport SignUpPage from './components/auth/SignUpPage';\nimport Navbar from './components/layout/Navbar';\nimport AuthContextProvider from './contexts/AuthContext';\n\n\nclass App extends Component {\n\n    state = {\n        uid: \"\"\n    }\n    setUid = (uid) => {\n        this.setState({\n            uid: uid\n        })\n    }\n\n    render() {\n        const PublicRoute = ({component: Component, ...rest}) => {\n            return (\n                <Route {...rest} component={(props) => (\n                    <div>\n                        <Navbar uid={this.state.uid} setUid={this.setUid}/> {/* Navbar ALWAYS VISIBLE */}\n\n                        <Component setUid={this.setUid} {...props} />\n                    </div>\n                )}\n                />\n            )\n        }\n\n        return (\n            <BrowserRouter>\n                <AuthContextProvider>\n                    <div className=\"App\">\n                        <Switch>\n                            <PublicRoute exact path='/' setUid={this.setUid} component={Dashboard}/>\n                            <PublicRoute path='/map/:lat/:long/:days/:city/:planId' setUid={this.setUid} component={EditMapPage}/>\n                            <PublicRoute path='/signin' setUid={this.setUid} component={SignInPage}/>\n                            <PublicRoute path='/signup' setUid={this.setUid} component={SignUpPage}/>\n                            <PublicRoute path='/profile' setUid={this.setUid} component={ProfilePage}/>\n                        </Switch>\n                    </div>\n                </AuthContextProvider>\n\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}